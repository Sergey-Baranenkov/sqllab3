(this.webpackJsonpclientsqllab4=this.webpackJsonpclientsqllab4||[]).push([[0],{13:function(e,t,n){e.exports=n(20)},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),s=n.n(c),o=n(6),u=n(1),i=n.n(u),l=n(2),m=n(3),p=n(9),f=n(10),b=n(12),E=n(11);n(19);function d(e,t){return h.apply(this,arguments)}function h(){return(h=Object(m.a)(i.a.mark((function e(t,n){var a,r,c,s,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>2&&void 0!==o[2]?o[2]:"GET",r=o.length>3&&void 0!==o[3]?o[3]:"json",(c=new URL(t)).search=new URLSearchParams(n).toString(),e.prev=4,e.next=7,fetch(c.toString(),{method:a});case 7:if((s=e.sent).ok){e.next=10;break}return e.abrupt("return",[!0,null]);case 10:return e.next=12,s[r]();case 12:return e.t0=e.sent,e.abrupt("return",[!1,e.t0]);case 16:return e.prev=16,e.t1=e.catch(4),e.abrupt("return",[!0,null]);case 19:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}var v=["user id","nickname","registered at"],k=["author id","commment id","text","creation time","modification time"],x="http://localhost:9000";function j(e){var t=e.buttonText,n=e.inputPlaceholder,c=e.onClick,s=Object(a.useState)(""),o=Object(l.a)(s,2),u=o[0],i=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"custom_block"},r.a.createElement("button",{onClick:function(){c(u)}},t),r.a.createElement("input",{type:"text",value:u,placeholder:n,onChange:function(e){var t=e.target;i(t.value)}})))}function w(e){var t=e.buttonText,n=e.inputPlaceholder1,c=e.inputPlaceholder2,s=e.onClick,o=Object(a.useState)(""),u=Object(l.a)(o,2),i=u[0],m=u[1],p=Object(a.useState)(""),f=Object(l.a)(p,2),b=f[0],E=f[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"custom_block"},r.a.createElement("button",{onClick:function(){s(i,b)}},t),r.a.createElement("input",{type:"text",value:i,placeholder:n,onChange:function(e){var t=e.target;m(t.value)}}),r.a.createElement("input",{type:"text",value:b,placeholder:c,onChange:function(e){var t=e.target;E(t.value)}})))}function O(e){var t=e.data,n=e.columnNames;return r.a.createElement("table",null,r.a.createElement("tr",null,n.map((function(e){return r.a.createElement("td",null,e)}))),t&&t.map((function(e){return r.a.createElement("tr",null,Object.keys(e).map((function(t){return r.a.createElement("td",null,e[t])})))})))}var S=function(e){Object(b.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={toShow:"users",usersData:[],commentsData:[],lastError:{operation:null,isError:!1}},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"error_block"},r.a.createElement("span",null,"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f: ",this.state.lastError.operation),r.a.createElement("span",null,"\u0411\u044b\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ",this.state.lastError.isError?"\u0434\u0430":"\u043d\u0435\u0442")),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",name:"table_selector",checked:"users"===this.state.toShow,onChange:function(){e.setState({toShow:"users"})}}),"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",r.a.createElement("input",{type:"radio",name:"table_selector",checked:"comments"===this.state.toShow,onChange:function(){e.setState({toShow:"comments"})}}),"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"),r.a.createElement("div",{className:"buttons_block"},r.a.createElement("button",{onClick:Object(m.a)(i.a.mark((function t(){var n,a,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(x+"/initdb",{},"GET","text");case 2:n=t.sent,a=Object(l.a)(n,1),r=a[0],e.setState({lastError:{operation:"initdb",isError:r}});case 6:case"end":return t.stop()}}),t)})))},"\u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c/\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u0431\u0434"),r.a.createElement("button",{onClick:Object(m.a)(i.a.mark((function t(){var n,a,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(x+"/dropdb",{},"GET","text");case 2:n=t.sent,a=Object(l.a)(n,1),!1===(r=a[0])&&e.setState({usersData:[],commentsData:[]}),e.setState({lastError:{operation:"dropdb",isError:r}});case 7:case"end":return t.stop()}}),t)})))},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0431\u0434"),r.a.createElement("button",{onClick:Object(m.a)(i.a.mark((function t(){var n,a,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(x+"/inittables",{},"GET","text");case 2:n=t.sent,a=Object(l.a)(n,1),r=a[0],e.setState({lastError:{operation:"inittables",isError:r}});case 6:case"end":return t.stop()}}),t)})))},"\u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u044b")),"users"===this.state.toShow?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"buttons_block"},r.a.createElement("button",{onClick:Object(m.a)(i.a.mark((function t(){var n,a,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(x+"/truncateusers",{},"GET","blob");case 2:n=t.sent,a=Object(l.a)(n,1),!1===(r=a[0])&&e.setState({usersData:[],commentsData:[]}),e.setState({lastError:{operation:"truncateusers",isError:r}});case 7:case"end":return t.stop()}}),t)})))},"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"),r.a.createElement("button",{onClick:Object(m.a)(i.a.mark((function t(){var n,a,r,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(x+"/getallusers",{},"GET","json");case 2:n=t.sent,a=Object(l.a)(n,2),r=a[0],c=a[1],!1===r&&e.setState({usersData:c}),e.setState({lastError:{operation:"getallusers",isError:r}});case 8:case"end":return t.stop()}}),t)})))},"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0432\u0441\u0435\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"),r.a.createElement(j,{buttonText:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0441 \u0437\u0430\u0434\u0430\u043d\u043d\u044b\u043c \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u043e\u043c",inputPlaceholder:"\u043d\u0438\u043a\u043d\u0435\u0439\u043c",onClick:function(){var t=Object(m.a)(i.a.mark((function t(n){var a,r,c,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(x+"/selectusersbynickname",{nickname:n},"GET","json");case 2:a=t.sent,r=Object(l.a)(a,2),c=r[0],s=r[1],!1===c&&null!==s&&e.setState({usersData:s}),e.setState({lastError:{operation:"selectusersbynickname",isError:c}});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),r.a.createElement("div",{className:"buttons_block"},r.a.createElement(j,{buttonText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",inputPlaceholder:"\u043d\u0438\u043a\u043d\u0435\u0439\u043c",onClick:function(){var t=Object(m.a)(i.a.mark((function t(n){var a,r,c,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(x+"/insertuser",{nickname:n},"GET","json");case 2:a=t.sent,r=Object(l.a)(a,2),c=r[0],s=r[1],!1===c&&null!==s&&e.setState((function(e){return{usersData:[].concat(Object(o.a)(e.usersData),[s])}})),e.setState({lastError:{operation:"insertuser",isError:c}});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),r.a.createElement(w,{buttonText:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043d\u0438\u043a\u043d\u0435\u0439\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",inputPlaceholder1:"id \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",inputPlaceholder2:"\u043d\u043e\u0432\u044b\u0439 \u043d\u0438\u043a\u043d\u0435\u0439\u043c",onClick:function(){var t=Object(m.a)(i.a.mark((function t(n,a){var r,c,s,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(x+"/updateusernickname",{userId:n,newNickname:a},"GET","json");case 2:r=t.sent,c=Object(l.a)(r,2),s=c[0],o=c[1],!1===s&&null!==o&&e.setState((function(e){return{usersData:e.usersData.map((function(e){return e.user_id===+n?o:e}))}})),e.setState({lastError:{operation:"updateusernickname",isError:s}});case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()})),r.a.createElement("div",{className:"buttons_block"},r.a.createElement(j,{buttonText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",inputPlaceholder:"id \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",onClick:function(){var t=Object(m.a)(i.a.mark((function t(n){var a,r,c,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(x+"/deleteparticularuser",{userId:n},"GET","text");case 2:a=t.sent,r=Object(l.a)(a,2),c=r[0],s=r[1],!1===c&&null!==s&&e.setState((function(e){return{usersData:e.usersData.filter((function(e){return e.user_id!==+n}))}})),e.setState({lastError:{operation:"deleteparticularuser",isError:c}});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),r.a.createElement(j,{buttonText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u043f\u043e \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u0443",inputPlaceholder:"\u043d\u0438\u043a\u043d\u0435\u0439\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",onClick:function(){var t=Object(m.a)(i.a.mark((function t(n){var a,r,c,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(x+"/deleteusersbynickname",{nickname:n},"GET","text");case 2:a=t.sent,r=Object(l.a)(a,2),c=r[0],s=r[1],!1===c&&null!==s&&e.setState((function(e){return{usersData:e.usersData.filter((function(e){return e.nickname!==n}))}})),e.setState({lastError:{operation:"deleteusersbynickname",isError:c}});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),r.a.createElement(O,{columnNames:v,data:this.state.usersData})):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"buttons_block"},r.a.createElement("button",{onClick:Object(m.a)(i.a.mark((function t(){var n,a,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(x+"/truncatecomments",{},"GET","text");case 2:n=t.sent,a=Object(l.a)(n,1),!1===(r=a[0])&&e.setState({commentsData:[]}),e.setState({lastError:{operation:"truncatecomments",isError:r}});case 7:case"end":return t.stop()}}),t)})))},"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"),r.a.createElement("button",{onClick:Object(m.a)(i.a.mark((function t(){var n,a,r,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(x+"/getallcomments",{},"GET","json");case 2:n=t.sent,a=Object(l.a)(n,2),r=a[0],c=a[1],!1===r&&null!==c&&e.setState({commentsData:c}),e.setState({lastError:{operation:"getallcomments",isError:r}});case 8:case"end":return t.stop()}}),t)})))},"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0432\u0441\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"),r.a.createElement(j,{buttonText:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 \u0441 \u0437\u0430\u0434\u0430\u043d\u043d\u044b\u043c \u0442\u0435\u043a\u0441\u0442\u043e\u043c",inputPlaceholder:"\u0442\u0435\u043a\u0441\u0442 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f",onClick:function(){var t=Object(m.a)(i.a.mark((function t(n){var a,r,c,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(x+"/selectcommentbymessage",{messageText:n},"GET","json");case 2:a=t.sent,r=Object(l.a)(a,2),c=r[0],s=r[1],!1===c&&null!==s&&e.setState({commentsData:s}),e.setState({lastError:{operation:"selectcommentbymessage",isError:c}});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),r.a.createElement("div",{className:"buttons_block"},r.a.createElement(w,{buttonText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",inputPlaceholder1:"id \u0430\u0432\u0442\u043e\u0440\u0430",inputPlaceholder2:"\u0442\u0435\u043a\u0441\u0442",onClick:function(){var t=Object(m.a)(i.a.mark((function t(n,a){var r,c,s,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(x+"/insertcomment",{authId:n,messageText:a},"GET","json");case 2:r=t.sent,c=Object(l.a)(r,2),s=c[0],u=c[1],!1===s&&null!==u&&e.setState((function(e){return{commentsData:[].concat(Object(o.a)(e.commentsData),[u])}})),e.setState({lastError:{operation:"insertcomment",isError:s}});case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}),r.a.createElement(w,{buttonText:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f",inputPlaceholder1:"id \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f",inputPlaceholder2:"\u043d\u043e\u0432\u044b\u0439 \u0442\u0435\u043a\u0441\u0442",onClick:function(){var t=Object(m.a)(i.a.mark((function t(n,a){var r,c,s,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(x+"/updatecommenttext",{commentId:n,messageText:a},"GET","json");case 2:r=t.sent,c=Object(l.a)(r,2),s=c[0],o=c[1],!1===s&&null!==o&&e.setState((function(e){return{commentsData:e.commentsData.map((function(e){return e.comment_id===+n?o:e}))}})),e.setState({lastError:{operation:"updatecommenttext",isError:s}});case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()})),r.a.createElement("div",{className:"buttons_block"},r.a.createElement(j,{buttonText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 \u043f\u043e id",inputPlaceholder:"comment id",onClick:function(){var t=Object(m.a)(i.a.mark((function t(n){var a,r,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(x+"/deleteparticularcomment",{commentId:n},"GET","text");case 2:a=t.sent,r=Object(l.a)(a,1),!1===(c=r[0])&&e.setState((function(e){return{commentsData:e.commentsData.filter((function(e){return e.comment_id!==+n}))}})),e.setState({lastError:{operation:"deleteparticularcomment",isError:c}});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),r.a.createElement(j,{buttonText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 \u043f\u043e \u0442\u0435\u043a\u0441\u0442\u0443",inputPlaceholder:"\u0442\u0435\u043a\u0441\u0442",onClick:function(){var t=Object(m.a)(i.a.mark((function t(n){var a,r,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(x+"/deletecommentsbymessage",{messageText:n},"GET","text");case 2:a=t.sent,r=Object(l.a)(a,1),!1===(c=r[0])&&e.setState((function(e){return{commentsData:e.commentsData.filter((function(e){return e.message_text!==n}))}})),e.setState({lastError:{operation:"deletecommentsbymessage",isError:c}});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),r.a.createElement(O,{columnNames:k,data:this.state.commentsData})))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.9d68a152.chunk.js.map